<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.43">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>changelog – V-Sekai - Manuals</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-d4d76bf8491c20bad77d141916dc28e1.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark-4379b0ccadffce622b03caf4c46266b3.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-24fab65de848c24ae69d5f49cf751ca2.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark-2123f955cdefa9abbecb2f3daf477d11.min.css" rel="prefetch" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../68604884.png" alt="V-Sekai" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">V-Sekai - Manuals</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../changelog.html"> 
<span class="menu-text">Changes</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../decisions.html"> 
<span class="menu-text">Decisions</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../roadmap.html"> 
<span class="menu-text">Roadmap</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#v-sekai-changelog---2021-05" id="toc-v-sekai-changelog---2021-05" class="nav-link active" data-scroll-target="#v-sekai-changelog---2021-05">V-Sekai Changelog - 2021-05</a></li>
  <li><a href="#changelog" id="toc-changelog" class="nav-link" data-scroll-target="#changelog">Changelog</a>
  <ul class="collapse">
  <li><a href="#section" id="toc-section" class="nav-link" data-scroll-target="#section">2021-05-31</a></li>
  <li><a href="#section-1" id="toc-section-1" class="nav-link" data-scroll-target="#section-1">2021-05-30</a></li>
  <li><a href="#section-2" id="toc-section-2" class="nav-link" data-scroll-target="#section-2">2021-05-29</a></li>
  <li><a href="#section-3" id="toc-section-3" class="nav-link" data-scroll-target="#section-3">2021-05-29</a></li>
  <li><a href="#section-4" id="toc-section-4" class="nav-link" data-scroll-target="#section-4">2021-05-28</a></li>
  <li><a href="#section-5" id="toc-section-5" class="nav-link" data-scroll-target="#section-5">2021-05-27</a></li>
  <li><a href="#section-6" id="toc-section-6" class="nav-link" data-scroll-target="#section-6">2021-05-26</a></li>
  <li><a href="#section-7" id="toc-section-7" class="nav-link" data-scroll-target="#section-7">2021-05-26</a></li>
  <li><a href="#section-8" id="toc-section-8" class="nav-link" data-scroll-target="#section-8">2021-05-24</a></li>
  <li><a href="#section-9" id="toc-section-9" class="nav-link" data-scroll-target="#section-9">2021-05-22</a></li>
  <li><a href="#section-10" id="toc-section-10" class="nav-link" data-scroll-target="#section-10">2021-05-21</a></li>
  <li><a href="#section-11" id="toc-section-11" class="nav-link" data-scroll-target="#section-11">2021-05-21</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/V-Sekai/manuals/edit/main/changelog/2021/20210501-changelog.md" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block"></header>




<section id="v-sekai-changelog---2021-05" class="level1">
<h1>V-Sekai Changelog - 2021-05</h1>
</section>
<section id="changelog" class="level1">
<h1>Changelog</h1>
<section id="section" class="level3">
<h3 class="anchored" data-anchor-id="section">2021-05-31</h3>
<ul>
<li><strong>21:30:03Z</strong> fire: <a href="https://github.com/Ozzadar/Godot4OVRTest.git">Godot4OVRTest</a> and <a href="https://github.com/godot-extended-libraries/godot-fire/tree/multiview-stero-openxr">godot-fire</a></li>
<li><strong>21:29:42Z</strong> fire: Context. Porting OpenXR to run on Godot Engine 4</li>
<li><strong>21:29:29Z</strong> fire: haagch’s input on VkPhysicalDevices and VkInstances</li>
<li><strong>21:28:46Z</strong> fire: haagch’s suggestion for handling VkInstance in OpenXR plugin and engine</li>
<li><strong>21:25:54Z</strong> lyuma: Yayay</li>
<li><strong>21:11:03Z</strong> fire: 🎆 🎆 🎆</li>
<li><strong>21:10:49Z</strong> fire: 🎉</li>
<li><strong>21:10:45Z</strong> fire: Lyuma Merged <a href="https://github.com/godotengine/godot/pull/49120">PR #49120</a> 👏 (2)</li>
</ul>
</section>
<section id="section-1" class="level3">
<h3 class="anchored" data-anchor-id="section-1">2021-05-30</h3>
<ul>
<li><strong>12:58:28Z</strong> fire: <a href="https://godotengine.org/asset-library/asset/964">V-Sekai VRM addon release</a></li>
<li><strong>10:58:12Z</strong> lyuma: “Submitted the asset”“VRM Importer and MToon Shader”” - it will be at <a href="https://godotengine.org/asset-library/asset/3693">asset/3693</a> once approved.
<ul>
<li><a href="https://github.com/V-Sekai/godot-vrm/issues/14#issuecomment-850979766">Issue comment</a></li>
<li><a href="https://www.youtube.com/watch?v=M7psmdcDHAo">Video demo</a></li>
</ul></li>
<li><strong>00:57:51Z</strong> fire: Merged LOD fix <a href="https://github.com/godotengine/godot/pull/49197">PR #49197</a></li>
</ul>
</section>
<section id="section-2" class="level3">
<h3 class="anchored" data-anchor-id="section-2">2021-05-29</h3>
<ul>
<li><strong>22:08:49Z</strong> fire: Found a bug in LOD on integer locations. Asked someone to handle it for me.</li>
<li><strong>17:52:04Z</strong> fire: Lyuma May need an ubuntu version too. Not sure how the test matrix works. I want fedora and ubuntu LTS (the oldest one)</li>
<li><strong>17:13:00Z</strong> lyuma: Progress on godot-cpp, Godette-Chan model port to VRM, and other updates</li>
<li><strong>17:09:27Z</strong> lyuma: Debugging an issue causing the outlines to look too bright in MixedLight mode, then I’ll demonstrate exporting a default character from vroid studio as well.</li>
</ul>
</section>
<section id="section-3" class="level3">
<h3 class="anchored" data-anchor-id="section-3">2021-05-29</h3>
<ul>
<li><strong>17:06:50Z</strong> lyuma: <a href="https://cdn.discordapp.com/attachments/836651615532482611/848246017954021416/godette_chan_v22.vrm">Godette-Chan model in VRM format</a></li>
<li><strong>16:59:06Z</strong> lyuma: <a href="https://cdn.discordapp.com/attachments/836651615532482611/848244072161345586/unknown.png">Godette-Chan model port result</a> 👏 (1)</li>
</ul>
</section>
<section id="section-4" class="level3">
<h3 class="anchored" data-anchor-id="section-4">2021-05-28</h3>
<ul>
<li><strong>22:45:48Z</strong> fire: Spent the afternoon on organizing work on the CMValley Godot Demo</li>
<li><strong>21:53:32Z</strong> lyuma: Updated godot-cpp; fixed SConstruct lines and resolved errors with clang and the gltf GDNative plugin</li>
<li><strong>21:15:35Z</strong> fire: Investigating the Godot Engine open content map “CMValley_to_Godot_Demo” (Ask me for the doc if you want it)</li>
<li><strong>20:46:13Z</strong> fire: Given .net assemblies 1. visualize 2. given pdbs associate symbols 3. graph!</li>
<li><strong>20:45:48Z</strong> fire: Lyuma Synergiance <a href="https://github.com/packdat/SourcetrailDotnetIndexer">SourcetrailDotnetIndexer</a></li>
<li><strong>06:24:04Z</strong> fire: Code review gltf the entire afternoon</li>
</ul>
</section>
<section id="section-5" class="level3">
<h3 class="anchored" data-anchor-id="section-5">2021-05-27</h3>
<ul>
<li><strong>18:45:25Z</strong> fire: Spent time summoning peers about making a realistically lit 3d game level environment in Godot Engine. Official Godot Engine business. -_-</li>
</ul>
</section>
<section id="section-6" class="level3">
<h3 class="anchored" data-anchor-id="section-6">2021-05-26</h3>
<ul>
<li><strong>21:43:14Z</strong> lyuma: Filed bugs and pull requests</li>
<li><strong>21:17:25Z</strong> fire: Tokage improved the Skeleton Gizmos with better color choices and bugfix for a shadow problem with depth</li>
<li><strong>17:43:36Z</strong> fire: We contributed to the drafting of them.</li>
<li><strong>17:43:22Z</strong> fire: <a href="https://media.discordapp.net/attachments/834825299438731325/847148997030576188/unknown.png">Values from OMI</a></li>
<li><strong>10:38:49Z</strong> lyuma: <a href="https://twitter.com/Lyuma2d/status/1397501932827078658">Twitter post</a></li>
</ul>
</section>
<section id="section-7" class="level3">
<h3 class="anchored" data-anchor-id="section-7">2021-05-26</h3>
<ul>
<li><strong>09:26:03Z</strong> lyuma: For now anyway, the VRM module is only for import.</li>
<li><strong>09:25:40Z</strong> lyuma: there’s a lot of untested code related to export, since there are still bugs, but I expect to be able to incorporate any bugfixes made to export</li>
<li><strong>09:25:09Z</strong> lyuma: After finishing the backport of the Fire’s latest gltf module to 3.x as a module / draft PR, I had success in porting the gltf module to GDNative: The VRM module now runs in Godot 3.3-stable: <a href="https://cdn.discordapp.com/attachments/836651615532482611/847042666822893598/unknown.png">Screenshot</a></li>
</ul>
</section>
<section id="section-8" class="level3">
<h3 class="anchored" data-anchor-id="section-8">2021-05-24</h3>
<ul>
<li><strong>18:13:44Z</strong> fire: Evaluating curve fitter from Maya2glTF. <a href="https://github.com/fire/Maya2glTF/tree/reducer-fire">Reducer-fire branch</a> <a href="https://cdn.discordapp.com/attachments/836651615532482611/846450916281417778/unknown.png">Screenshot</a></li>
<li><strong>18:08:49Z</strong> Saracen: Progress on asset validation layer and remaining issues</li>
<li><strong>15:37:50Z</strong> fire: (blender)</li>
<li><strong>15:37:37Z</strong> fire: <a href="https://cdn.discordapp.com/attachments/703726244436508722/846370817701183488/unknown.png">Screenshot</a> 👍 (2)</li>
<li><strong>15:37:09Z</strong> fire: Worked with hutty to transfer gltf export tech to his voxel drawing tool</li>
<li><strong>00:56:09Z</strong> fire: Also, pitching usdz after 4.0</li>
<li><strong>00:55:22Z</strong> fire: “Trying to pitch a list of features for funding. - Full glTF2 / VRM import and export pipeline in Godot Engine</li>
<li>General purpose retargeting system for VRM type models + encoding in BVH (3d pose format)</li>
<li>Godot Engine support for basis universal in glTF2</li>
<li>Quads in glTF2</li>
<li>After quads in glTF2, better mesh simplification and LODs that work on quads”</li>
</ul>
</section>
<section id="section-9" class="level3">
<h3 class="anchored" data-anchor-id="section-9">2021-05-22</h3>
<ul>
<li><strong>16:23:18Z</strong> fire: <a href="https://github.com/godotengine/godot/pull/47764/files">PR #47764</a> Lod Merge! 👏 (4)</li>
<li><strong>03:41:06Z</strong> lyuma: is it GLES2 or GLES3?</li>
<li><strong>03:12:33Z</strong> fire: humbletim <a href="https://cdn.discordapp.com/attachments/836651615532482611/845499351346315264/unknown.png">Screenshot</a></li>
<li><strong>02:30:08Z</strong> fire: Investigating V-Sekai compiled for javascript</li>
</ul>
</section>
<section id="section-10" class="level3">
<h3 class="anchored" data-anchor-id="section-10">2021-05-21</h3>
<ul>
<li><strong>23:38:30Z</strong> fire: <a href="https://cdn.discordapp.com/attachments/836651615532482611/845445481622667304/unknown.png">Screenshot</a></li>
<li><strong>23:32:27Z</strong> fire: What do I do, Victoria Day on Monday. How is the Queen!?</li>
<li><strong>23:31:24Z</strong> fire: Discussed 15 frames encoding into a QR / DataMatrix code <a href="https://lox9973.com/ShaderMotion/player-gltf.html">ShaderMotion</a> Writing a obs script in python to read data.</li>
</ul>
</section>
<section id="section-11" class="level3">
<h3 class="anchored" data-anchor-id="section-11">2021-05-21</h3>
<ul>
<li><p><strong>15:37:50Z</strong> fire: (blender)</p></li>
<li><p><strong>15:37:37Z</strong> fire: <a href="https://cdn.discordapp.com/attachments/703726244436508722/846370817701183488/unknown.png">Screenshot</a> 👍 (2)</p></li>
<li><p><strong>15:37:09Z</strong> fire: Worked with hutty to transfer gltf export tech to his voxel drawing tool</p></li>
<li><p><strong>00:56:09Z</strong> fire: Also, pitching usdz after 4.0</p></li>
<li><p><strong>00:55:22Z</strong> fire: “Trying to pitch a list of features for funding. - Full glTF2 / VRM import and export pipeline in Godot Engine</p></li>
<li><p>General purpose retargeting system for VRM type models + encoding in BVH (3d pose format)</p></li>
<li><p>Godot Engine support for basis universal in glTF2</p></li>
<li><p>Quads in glTF2</p></li>
<li><p>After quads in glTF2, better mesh simplification and LODs that work on quads”</p></li>
<li><p>2021-05-21 22:51:16Z lyuma: “I worked with fire on debugging glTF. I think we’re going to possibly need two different approaches for solving glTF skeletons.</p>
<ol type="1">
<li>Radical change to glTF parser to treat all subtree nodes as part of a single skeleton recursively. (What we were just testing) I believe this would be unacceptable in 3.x because it is almost guaranteed to break compatibility with all content, but it may be desirable in 4.x.</li>
<li>Add BoneAttachments to skeletons directly parented to skeletons. (We tried this). This may be required in 3.x.</li>
<li>While in <code>_determine_skeletons</code>, detect the specific case in which two skeletons would be directly parented and add them to the disjoint set in this case (look at the parent objects at the end). Do not actually add the parent bone to the disjoint set: only do it if this would hit the problem case. Issue: this may require doing another iteration of the <code>_determine_skeletons</code> code? Is this possible without causing more bugs? This could be a compromise if it is possible.</li>
</ol>
<p>Bugs:</p>
<ol type="1">
<li>Animations must not animate SkinnedMesh objects</li>
<li>We ran into weird issues with fake_joints. Can these issues be reproduced without the radical change above? I think they can by making a single gltf file which has a skin also referencing a mesh. This issue leads animation targeting mesh-bones to fail to create a bone track correctly.</li>
<li>MeshSkinnedToItselfAndOthersV3 is missing a whole mesh node after import. It shows up in the popup but not in the final scene. Owner issue?? Is it related to the fake_joints? The glb here should have a spinning diamond and two spinning skinned cubes:” https://cdn.discordapp.com/attachments/836651615532482611/845433592888557568/MeshSkinnedToItselfAndOthersV3.glb</li>
</ol></li>
<li><p>2021-05-21 22:29:43Z fire: We also gain the ability to post more twitter tweets.</p></li>
<li><p>2021-05-21 22:29:23Z fire: Had a discussion with Lyuma and Saracen about V-Sekai for wider testing and how it was blocked by scene validation feature.</p></li>
<li><p>2021-05-21 15:27:33Z fire: Multiple PRs from fire and Lyuma were merged for gltf problems</p></li>
<li><p>2021-05-20 15:28:19Z fire: トカゲ https://github.com/godot-extended-libraries/godot-fire/commits/features/skeleton-gizmos I did some cleanup, rebased on the modification stack and changed the color for selected bones to be a darker orange</p></li>
<li><p>2021-05-20 15:26:43Z fire: Lyuma IK and Modification stack are now a stacked branch.</p></li>
<li><p>2021-05-20 04:21:06Z fire: Work with Lyuma on 3 glTF bug fixes. 1. instead of failing all the meshes only fail once 2. the skins duplication removal code has a bug and it needs to check skin bind bone, skin bind name and pose transform. 3. the skin bind code was removed 4. gltf 4.0 modules was backported to 3.2</p></li>
<li><p>2021-05-19 19:20:41Z fire: Lyuma and I summarized our concerns about the ease of implementation and the inability to use off the shelf code.</p></li>
<li><p>2021-05-19 19:20:00Z fire: OMI Week 3. Stayed for the talk at 9am and then stayed with Robert Long to talk about OMI Identity and misc things like there is no opensource OpenXR mobile client. https://github.com/omigroup/OMI/issues/36#issuecomment-844392614</p></li>
<li><p>2021-05-19 14:37:19Z fire: After sleeping on the Linux RPM database problem, I was able to get WSL working again. Lyuma I needed to switch WSL to version 2.</p></li>
<li><p>2021-05-18 18:32:58Z fire:</p></li>
</ul>
<pre><code>groups-4.x branch in the Groups Godot Engine Repo

1. VRM patches required
2. Importing patches for the editor
3. Gltf and other UV1-8 channel requirements
4. (stacked branch) bone modification + bone gizmos
5. fix normals being broken in mesh optimizer
Push on merge extended-fire-master remotes/fire/cubic-interpolation
Push on merge extended-fire-master remotes/fire/gltf-bone-skinning-normalization
6. remotes/bruvzg/msdf_fonts
7. push gltf export (fire)
8. feature/spatial-audio
9. rewrite compressed audio for voip
Push on SIMDE for avx support
Punt crash / reliability problem on Godot Engine crashing

merge-script-4.x is the branch name for the groups_merge_script Repo</code></pre>
<ul>
<li>2021-05-18 17:41:55Z fire: “Coordination problems:</li>
<li>name of the ““merge script”” for v-sekai 4.x</li>
<li>name of the V-Sekai/godot branch for v-sekai 4.x</li>
<li>which branches should be in the initial set of patches applied to godotengine master branch”</li>
<li>2021-05-18 14:46:44Z fire: GSOC 2021 started on Monday. Will be mentoring Theoway and on the topic of Visual Script node visual organization</li>
<li>2021-05-18 14:43:56Z fire: Posted my last revision of runtime export https://github.com/godot-extended-libraries/godot-fire/tree/extended-fire-master-runtime-gltf</li>
<li>2021-05-18 14:01:58Z fire: Lyuma Please see xr channel in godot about runtime gltf. May be too politically diffficult to get merged, so will fix gltf export bugs</li>
<li>2021-05-18 03:48:49Z fire: “Worked with Lyuma and Tim on MotionShader to glTF2 https://hackmd.io/<span class="citation" data-cites="tI5OkracQhuas5Kjh-kG0g/S1uzKIgt_/edit">@tI5OkracQhuas5Kjh-kG0g/S1uzKIgt_/edit</span>”</li>
<li>2021-05-17 00:07:58Z Saracen: A few more fixes to the XR switching + you can now alter your <em>real-world</em> height at runtime heart (2)</li>
<li>2021-05-16 23:01:38Z fire: I have as animation as I want 😮 https://cdn.discordapp.com/attachments/836651615532482611/843624264958738462/2021-05-16_15-59-25.mp4 👍 (2)</li>
<li>2021-05-16 23:01:17Z fire: https://cdn.discordapp.com/attachments/835369558541467668/843623340965888040/godot_girl_stealth_JohnnyRouddro_mit_lic_No_Logic_David_cc_by.glb</li>
<li>2021-05-16 22:58:19Z Saracen: Added further bug fixes to runtime switching of VR mode and flat mode. Fixes the few minor remaining issues with the avatar poses getting messed up, and the VR controllers being stuck on screen. With that, I’m satisfied with marking this feature as done in the tracker.</li>
<li>2021-05-16 22:22:05Z fire: Work around found. Import into godot and then export it as glb again.</li>
<li>2021-05-16 22:17:37Z fire: Submitted a blender gltf bug report. https://github.com/KhronosGroup/glTF-Blender-IO/issues/1392 😮 (1)</li>
<li>2021-05-16 21:19:32Z fire: We are a go for big frame counts. I’m able to get a massive dataset thanks to lox9973 https://cdn.discordapp.com/attachments/836651615532482611/843598569851846707/unknown.png</li>
<li>2021-05-16 21:15:45Z lyuma: “I hope the code I wrote will help others as a template for making nice-looking inspectors.</li>
</ul>
<p>I am considering submitting Godot-MToon-Shader to the asset library, separately from VRM.”</p>
<ul>
<li>2021-05-16 21:15:12Z lyuma: Using much the same cursed techniques that many Unity inspectors use, I was able to create bold headings, and “single-line” texture+image property pickers.</li>
<li>2021-05-16 21:13:39Z lyuma: In some ways, it’s a bit more clunky than the <code>get_property_list()</code>, and a bit less versatile in terms of what you can do… but I decided to think outside the VBoxContainer a little bit, and I came up with a reasonable inspector, I think.</li>
<li>2021-05-16 21:11:54Z lyuma: Spent most of the day learning how to make a custom shader inspector using EditorInspectorPlugin. I’m pretty happy with how it turned out https://cdn.discordapp.com/attachments/836651615532482611/843596648855896084/mtoon_shader_inspector.png</li>
<li>2021-05-16 16:15:16Z fire: Thanks lox9973 for linking me to enough training data for my pose motion transfer tests. https://www.youtube.com/playlist?list=PLmwqDOin_Zt4WCMWqoK6SdHlg0C_WeCP6 (cc-by)</li>
<li>2021-05-16 15:11:34Z fire: Brainstorming an intermediate format that isn’t exact per bone joint orientation but general across characters</li>
<li>2021-05-16 05:53:14Z fire: Investigating ShaderMotion. Now that I can go from some anims to Unity Mechanism / UE4 / VRM skeletons, I want to investigate writing a shader motion player.</li>
<li>2021-05-16 01:16:04Z lyuma: https://github.com/V-Sekai/godot-vrm godot3 branch (Godot 3.3): Runtime support requires no patches. Editor requires gltf module. master branch: Runtime support requires no patches. Editor requires two small engine fixes.</li>
<li>2021-05-16 01:13:55Z lyuma: Getting very close to a releasable fully featured (Import-only) VRM addon for Godot. Let me know what you think in #pipeline https://cdn.discordapp.com/attachments/836651615532482611/843295167603015700/godot_vrm_1.0.0_beta.mp4</li>
<li>2021-05-15 23:15:29Z fire: VRM from jin. Motion from Perfume dance webgl demo from 2013 in bvh format</li>
<li>2021-05-15 23:15:13Z fire: Testing animation retargeting software from the Blender ecosystem. https://cdn.discordapp.com/attachments/842452265296986134/843264562430214164/2021-05-15_16-10-49.mp4</li>
<li>2021-05-15 14:36:56Z lyuma: wiping history on V-Sekai/godot-vrm will be necessary because some large binary files were pushed in the past, and I want to ensure this addon is lightweight and easy to clone.</li>
<li>2021-05-15 14:33:39Z lyuma: “Pushed an update to Godot-VRM for godot 3.x: https://github.com/V-Sekai/godot-vrm/tree/gd3 It’s not finalized yet and I will do a bit more testing and bugfixing before rebasing/wiping all of history pushing it to <code>godot3</code>, its final resting place.”</li>
<li>2021-05-14 15:00:58Z Saracen: Fixed some bugs to improve support for switching between VR and flat modes at runtime. Very ugly hack to fix one of the bugs though, strange issue. Some slight remaining avatar issues, but it’s <em>mostly</em> working now it seems.</li>
<li>2021-05-14 02:17:44Z fire: Added three pictures and a video.</li>
<li>2021-05-14 01:33:44Z fire: VOX to VRM fun. (Autorigging investigation for any static humanoid mesh!)</li>
<li>2021-05-13 21:38:00Z lyuma: but yeah! It’s really exciting to get this much imported with just a couple clicks and about 30 seconds of waiting</li>
<li>2021-05-13 21:37:01Z lyuma: it’s a bit of random chance that it looks so similar: the skydome and some objects like flowers have completely custom shaders, so those will have to be ported manually</li>
<li>2021-05-13 21:36:32Z Saracen: This is actually starting to look like the original now</li>
<li>2021-05-13 21:36:27Z Saracen: Woah!</li>
<li>2021-05-13 21:36:04Z lyuma: Unidot Importer: Got lighting and basic environment settings importing. In squiddingme’s Traveler’s Rift, I’m now able to bake lighting immediately after importing. (You can see the probes are baking as black, so there are still some issues to be worked out.) - Also added support for audio, cameras and reflection probes: https://cdn.discordapp.com/attachments/836651615532482611/842515566413873172/unknown.png</li>
<li>2021-05-13 18:14:28Z fire: https://github.com/V-Sekai/vox-to-vrm</li>
<li>2021-05-13 18:12:49Z lyuma: Oh, jin is re-rigging it</li>
<li>2021-05-13 18:12:28Z lyuma: Jin’s proposal does not make sense</li>
<li>2021-05-13 18:12:21Z lyuma: Vrm is an avatar format which requires a rigged humanoid model. Obj does not support rigging</li>
<li>2021-05-13 17:48:43Z fire: Lyuma https://cdn.discordapp.com/attachments/836651615532482611/842458354202181642/unknown.png</li>
<li>2021-05-13 06:35:51Z Saracen: Tweaked the way wristspan is calculated since it came out wrong on some avatars where the arms weren’t perfectly aligned. Should result in more accurate VR proportions.</li>
<li>2021-05-13 04:26:05Z fire: Rebased my godot 4.0 stack so I can go back to my vrm viewer thing</li>
<li>2021-05-13 03:14:34Z Saracen: One more patch just to allow direct assignment of upper and lower bones by ID, but it seems to be working now. Good job! It’s now possible to use avatars with in-between bones.</li>
<li>2021-05-13 03:00:37Z Saracen: Basically, the new code to automatically assign the next bone in the chain assumed the skeleton was assigned, even though it can be null.</li>
<li>2021-05-13 02:55:04Z MMMaellon#2053 whoa wait why was it crashing</li>
<li>2021-05-13 02:47:41Z Saracen: Fixed RenIK crashing.</li>
<li>2021-05-13 00:48:18Z fire: Reviewed https://github.com/godotengine/godot/pull/46568. Basis universal version update.</li>
<li>2021-05-12 23:34:42Z fire: OMI meeting today. OKR Review. Progress was difficult.</li>
<li>2021-05-11 15:38:53Z fire: Vive con starts in 20 minutes Voice Notifications. Any interesting talks?</li>
<li>2021-05-11 15:38:00Z fire: Anything from Vive Con?</li>
<li>2021-05-11 13:49:22Z lyuma: Fixed an issue in EWBIK that was bothering me – namely, that the result of the algorithm appeared to depend on the root bone having an identity transform. It seems that all that was needed was to transform the “tip” and “target” headings of an IKBoneChain by the inverse transform of the root. https://cdn.discordapp.com/attachments/836651615532482611/841673340740829234/unknown.png 🌅 (1)</li>
<li>2021-05-11 03:32:10Z fire: Whoo debugged EWBIK the entire day, and removed the hacks to reveal the broken core to be rebuilt! Thanks Eron!</li>
<li>2021-05-10 17:21:03Z fire: Evaluated EWBIK with Motion Retargeting. Suggestions included adding a position indication (with scale) as a child of the correction node that is a child of the bone attachment and olving only one frame at a time. No conclusions yet, because ewbik is too broken.</li>
<li>2021-05-10 02:48:21Z fire: Working with Eron on ewbik. Next meeting at 9am or later.</li>
<li>2021-05-09 22:31:35Z fire: Working out a system where we create targets from the other skeletal animation using bone attachments and then a corresponding correction node underneath it. The ik solver then uses those correction node targets as the target.</li>
<li>2021-05-09 17:22:13Z Saracen: Support for ordered grid super sampling and camera position-based bill-boarding added thanks to help from Silent and Lyuma</li>
<li>2021-05-09 16:08:30Z fire: Many patches from トカゲ were merged today /. Thanks</li>
<li>2021-05-09 14:34:42Z fire: Saracen / Lyuma suggested a hint_string where a skeleton bone attachment gets a filtering tree popup for selecting bones</li>
<li>2021-05-08 15:47:13Z Saracen: https://github.com/SaracenOne/godot/tree/collada_semantic_fix_4_0</li>
<li>2021-05-08 15:46:07Z Saracen: https://github.com/SaracenOne/godot/tree/collada_semantics_fix_3</li>
<li>2021-05-08 15:45:11Z Saracen: Fixed some bugs with the Collada importer</li>
<li>2021-05-08 15:44:33Z Saracen: https://cdn.discordapp.com/attachments/836651615532482611/840615163937816585/screenshot_2021_05_08_164031.png</li>
<li>2021-05-08 10:48:29Z lyuma: Just to see how close I could get, I manually added a WorldEnvironment and did a few tweaks to light attenuation curves: https://cdn.discordapp.com/attachments/836651615532482611/840540658241634304/unknown.png</li>
<li>2021-05-08 10:43:35Z lyuma: (Though, I also have not yet implemented world environment. Also, you can see it fails to port custom shaders like the skybox.)</li>
<li>2021-05-08 10:42:42Z lyuma: squiddingme helped provide me with source files to their beautiful Traveler’s Rift, and I am finally able to import it using Unidot. This part was all automated, and includes collision meshes for all of the separate pickup objects, as well as light sources. https://cdn.discordapp.com/attachments/836651615532482611/840539201987936306/TravelersRift.jpg 👍 (1)</li>
<li>2021-05-08 06:55:06Z fire: Chatted with humbletim about importing an existing armature into EWBIK Java</li>
<li>2021-05-08 06:30:40Z MMMaellon#2053 You were talking about it the other day, but all that I got was that it was difficult to set up. idk what it actually did</li>
<li>2021-05-08 06:30:13Z MMMaellon#2053 what does matrix server giv us?</li>
<li>2021-05-08 06:28:45Z lyuma: “1. We set up a matrix server in 5 hours (a few hours wasted due to firewall).</li>
</ul>
<ol start="2" type="1">
<li>We set up federation to the matrix server in an SRV record Next steps?</li>
<li>Try godot-matrix to see if we can use the matrix server for interop. (Are there similar bindings for other languages?)</li>
<li>See if we can boil everything down to be easy to set up.</li>
<li>What is matrix actually useful for? Identity? Establishing E2E messages? Sending invites? How does federation help?”</li>
</ol>
<ul>
<li>2021-05-07 13:51:55Z fire: EWBIK bone dampening is implemented.</li>
<li>2021-05-07 11:09:14Z fire: &gt; You won’t need stabilization before you’ve implemented constraints.</li>
<li>2021-05-07 11:08:49Z fire: “Ewbik todo. dampening is about getting a natural pose, stabilization is about preventing wobbling when a lot of constraints are being violated.”</li>
<li>2021-05-06 15:45:06Z fire: Got a reply from glitchtip. Require use cases generation.</li>
<li>2021-05-05 21:29:14Z fire: Added better ui for creating the effectors (targets and pins) in ewbik</li>
<li>2021-05-05 18:28:53Z fire: Lyuma When you’re around, wanted to show you the EWBIK changes. It’s working for some small cases.</li>
<li>2021-05-05 12:53:56Z lyuma: anyway aside from this PR and one other two-line workaround to the <code>@export</code> gdscript bug, Godot VRM master branch is now up-to-date and works on godot master (4.x). Currently working on getting the reins on 3.x and backporting some of the bugfixes</li>
<li>2021-05-05 12:52:45Z lyuma: Akien uses a stupid reason to argue against https://github.com/godotengine/godot/pull/48014</li>
<li>2021-05-04 22:02:14Z fire: Oops stupid, I didn’t enable parent to child for EWBIK</li>
<li>2021-05-04 16:34:46Z fire: The idea is to run scripts on the os using ebpf to probe an active system. EBpf is similar to Sun DTrace and made by the same people.</li>
<li>2021-05-04 16:34:15Z fire: Discovered: https://pixielabs.ai/ Apache 2 CNCF project. Access metrics, events, traces and logs in seconds without changing code via dynamic eBPF probes and ingestors.</li>
<li>2021-05-04 16:15:03Z fire: Debugged with Eron EWBIK. No conclusions.</li>
<li>2021-05-04 14:52:02Z fire: “Next steps on EWBIK: The stiffness constraint of a bone determines how much the IK solver should prefer to avoid rotating it if it can. The kusudama constraint limits rotation and twist.”</li>
<li>2021-05-04 13:01:11Z fire: https://github.com/godotengine/godot/pull/47389#issuecomment-830588813 Saracen Please respond to wave importer review</li>
<li>2021-05-04 12:59:10Z fire: “Still working on getting tokage’s prs merged (ping pong) https://github.com/godotengine/godot/pull/48332 (discrete carry) https://github.com/godotengine/godot/pull/48375”</li>
<li>2021-05-04 12:55:38Z fire: Porting https://github.com/fire/godot/tree/2d-ik but need to ask pouley something</li>
<li>2021-05-04 05:30:19Z lyuma: music?</li>
<li>2021-05-04 05:28:37Z fire: V-Sekai music discussion.</li>
<li>2021-05-04 01:29:11Z fire: rafallus EWBIK meeting time. Meeting done. Discussed the instability when the target is close and with multiple targets. Investigated future implementation of Kusudama constraints. Described a way to turn off ewbik constraints in the Java demo.</li>
<li>2021-05-03 21:25:19Z fire: Godot Vulkan now runs a software renderer (for now SwiftShader) on cicd. Thanks qarmin.</li>
<li>2021-05-03 21:24:38Z fire: https://github.com/godotengine/godot/pull/48410</li>
<li>2021-05-03 21:23:55Z fire: PSA - We run godot –doctool in the Linux build, so if you modify the public API but fail to update the documentation, it will throw an error: So remember to run –doctool.</li>
<li>2021-05-03 21:20:13Z fire: Fetching 2d IK PR for tomorrow.</li>
<li>2021-05-03 21:19:37Z fire: Updated lottie to use zstd packedscene compression because vram compression is bad.</li>
<li>2021-05-03 20:28:02Z fire: Trying to see if power of two resize will solve a crash on etcpak compressing for Lottie. It does.</li>
<li>2021-05-03 20:19:20Z fire: Updated lottie https://github.com/godot-extended-libraries/lottie/tree/next to use texture compression (1GB to 10MB) and change skipping frames which was cursed to a interpolation scheme where the input is frame rate and not skipped frames.</li>
<li>2021-05-03 19:10:40Z fire: Discussed with Lyuma about so many Godot Engine bugs to fix. gdparty (1)</li>
<li>2021-05-03 16:06:57Z lyuma: Implemented support for unity binary asset format into Unidot Importer (such as LightingData.asset) - note that the actual data in this file isn’t used yet, but now we can parse these files.</li>
<li>2021-05-03 12:09:06Z fire: Scheduled a meeting with rafallus about ewibik and working on gltf2 normalization pr.</li>
<li>2021-05-02 21:09:57Z fire: &gt; wasm2c: Convert wasm files to C source and header</li>
<li>2021-05-02 21:01:10Z fire: There’s an discussion about OMI and WASM again.</li>
<li>2021-05-02 21:00:18Z fire: Discussed with Tylo#4997 in the OMI server, apparently we’re GLTF2 buddies. He worked on glTF2 furniture arrangements with 3d product models.</li>
<li>2021-05-02 19:48:53Z fire: Reviewed https://github.com/godotengine/godot/issues/41028 with tokage “Blendspace2D BLEND_MODE_DISCRETE_CARRY freezes or doesn’t carry #41028”</li>
<li>2021-05-02 15:10:07Z fire: https://github.com/fire/godot/tree/bc7enc_rdo and https://github.com/simd-everywhere/simde Godot Simd proposal</li>
<li>2021-05-02 01:35:12Z fire: Working on nested bone attachments that also have a skeleton</li>
<li>2021-05-02 01:27:57Z fire: Lyuma We got bone attachments! 🍖 (1)</li>
<li>2021-05-01 22:34:48Z fire: Add a pr. Needs review</li>
<li>2021-05-01 18:59:03Z fire: Trying to deal with the case where the weights is [2, 2, 2, 2] [0.7, 0.3, 0.0, 0.0] &gt;.&lt;</li>
<li>2021-05-01 16:42:28Z fire: Clamping Nans, -Inf, +Inf in gltf exporter in Godot Engine.</li>
</ul>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/v-sekai\.github\.io\/manuals");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
      &nbsp;
    <div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/V-Sekai/manuals/edit/main/changelog/2021/20210501-changelog.md" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li></ul></div></div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/V-Sekai/manuals">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/VSekaiOfficial">
      <i class="bi bi-twitter" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://discord.gg/2YwPmnbqcN">
      <i class="bi bi-discord" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://v-sekai.org/">
      <i class="bi bi-web" role="img">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>




</body></html>